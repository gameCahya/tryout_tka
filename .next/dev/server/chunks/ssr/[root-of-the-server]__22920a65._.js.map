{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///home/bangcs/Documents/tryout_tka/lib/supabase.ts"],"sourcesContent":["import { createClient } from '@supabase/supabase-js';\n\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!;\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!;\n\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey);"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM;AACN,MAAM;AAEC,MAAM,WAAW,IAAA,iRAAY,EAAC,aAAa","debugId":null}},
    {"offset": {"line": 71, "column": 0}, "map": {"version":3,"sources":["file:///home/bangcs/Documents/tryout_tka/app/tryout/%5Bid%5D/edit/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { useRouter, useParams } from 'next/navigation';\nimport { supabase } from '@/lib/supabase';\n\ntype TryoutForm = {\n  id: string;\n  title: string;\n  total_questions: number;\n  duration_minutes: number;\n  start_time: string | null;\n  end_time: string | null;\n};\n\nexport default function EditTryoutPage() {\n  const router = useRouter();\n  const params = useParams();\n  const tryoutId = params.id as string;\n  \n  const [formData, setFormData] = useState<TryoutForm>({\n    id: '',\n    title: '',\n    total_questions: 10,\n    duration_minutes: 60,\n    start_time: null,\n    end_time: null,\n  });\n  const [loading, setLoading] = useState(true);\n  const [submitting, setSubmitting] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    fetchTryout();\n  }, [tryoutId]);\n\n  const fetchTryout = async () => {\n    setLoading(true);\n    setError(null);\n\n    // Check session\n    const { data: { session } } = await supabase.auth.getSession();\n    if (!session) {\n      setError('Sesi tidak ditemukan, silakan login kembali');\n      setLoading(false);\n      return;\n    }\n\n    // Check if user has teacher or admin role\n    const { data: profileData, error: profileError } = await supabase\n      .from('profiles')\n      .select('role')\n      .eq('id', session.user.id)\n      .single();\n\n    if (profileError || !profileData || !['admin', 'teacher'].includes(profileData.role)) {\n      setError('Anda tidak memiliki akses untuk mengedit tryout');\n      setLoading(false);\n      return;\n    }\n\n    try {\n      // Fetch tryout\n      const { data: tryoutData, error: tryoutError } = await supabase\n        .from('tryouts')\n        .select('id, title, total_questions, duration_minutes, start_time, end_time')\n        .eq('id', tryoutId)\n        .single();\n\n      if (tryoutError) throw tryoutError;\n\n      setFormData(tryoutData);\n    } catch (err: any) {\n      console.error('Error fetching tryout:', err);\n      setError(err.message || 'Gagal memuat data tryout');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value === '' ? null : value\n    }));\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setSubmitting(true);\n    setError(null);\n\n    // Check session\n    const { data: { session } } = await supabase.auth.getSession();\n    if (!session) {\n      setError('Sesi tidak ditemukan, silakan login kembali');\n      setSubmitting(false);\n      return;\n    }\n\n    // Check if user has teacher or admin role\n    const { data: profileData, error: profileError } = await supabase\n      .from('profiles')\n      .select('role')\n      .eq('id', session.user.id)\n      .single();\n\n    if (profileError || !profileData || !['admin', 'teacher'].includes(profileData.role)) {\n      setError('Anda tidak memiliki akses untuk mengedit tryout');\n      setSubmitting(false);\n      return;\n    }\n\n    try {\n      // Update tryout\n      const { error: updateError } = await supabase\n        .from('tryouts')\n        .update({\n          title: formData.title,\n          total_questions: formData.total_questions,\n          duration_minutes: formData.duration_minutes,\n          start_time: formData.start_time,\n          end_time: formData.end_time,\n        })\n        .eq('id', tryoutId);\n\n      if (updateError) throw updateError;\n\n      // Redirect to questions page\n      router.push(`/tryout/${tryoutId}/questions`);\n    } catch (err: any) {\n      console.error('Error updating tryout:', err);\n      setError(err.message || 'Gagal mengupdate tryout');\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 dark:border-blue-400 mx-auto mb-4\"></div>\n          <p className=\"text-gray-600 dark:text-gray-400\">Memuat...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900 p-4\">\n      <div className=\"max-w-3xl mx-auto\">\n        <div className=\"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 mb-6\">\n          <div className=\"flex items-center justify-between mb-6\">\n            <h1 className=\"text-2xl font-bold text-gray-900 dark:text-white\">\n              Edit Tryout\n            </h1>\n            <button\n              onClick={() => router.back()}\n              className=\"px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors\"\n            >\n              Kembali\n            </button>\n          </div>\n\n          {error && (\n            <div className=\"mb-6 p-4 bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-700 text-red-700 dark:text-red-300 rounded-xl\">\n              {error}\n            </div>\n          )}\n\n          <form onSubmit={handleSubmit} className=\"space-y-6\">\n            <div>\n              <label htmlFor=\"title\" className=\"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2\">\n                Judul Tryout\n              </label>\n              <input\n                type=\"text\"\n                id=\"title\"\n                name=\"title\"\n                value={formData.title}\n                onChange={handleChange}\n                required\n                className=\"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition bg-gray-50 focus:bg-white dark:bg-gray-700/50 dark:border-gray-600 dark:focus:ring-blue-400 dark:focus:bg-gray-700 dark:text-white\"\n                placeholder=\"Masukkan judul tryout\"\n              />\n            </div>\n\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <div>\n                <label htmlFor=\"total_questions\" className=\"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2\">\n                  Jumlah Soal\n                </label>\n                <input\n                  type=\"number\"\n                  id=\"total_questions\"\n                  name=\"total_questions\"\n                  value={formData.total_questions}\n                  onChange={handleChange}\n                  min=\"1\"\n                  required\n                  className=\"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition bg-gray-50 focus:bg-white dark:bg-gray-700/50 dark:border-gray-600 dark:focus:ring-blue-400 dark:focus:bg-gray-700 dark:text-white\"\n                />\n              </div>\n\n              <div>\n                <label htmlFor=\"duration_minutes\" className=\"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2\">\n                  Durasi (menit)\n                </label>\n                <input\n                  type=\"number\"\n                  id=\"duration_minutes\"\n                  name=\"duration_minutes\"\n                  value={formData.duration_minutes}\n                  onChange={handleChange}\n                  min=\"1\"\n                  required\n                  className=\"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition bg-gray-50 focus:bg-white dark:bg-gray-700/50 dark:border-gray-600 dark:focus:ring-blue-400 dark:focus:bg-gray-700 dark:text-white\"\n                />\n              </div>\n            </div>\n\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <div>\n                <label htmlFor=\"start_time\" className=\"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2\">\n                  Waktu Mulai (opsional)\n                </label>\n                <input\n                  type=\"datetime-local\"\n                  id=\"start_time\"\n                  name=\"start_time\"\n                  value={formData.start_time || ''}\n                  onChange={handleChange}\n                  className=\"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition bg-gray-50 focus:bg-white dark:bg-gray-700/50 dark:border-gray-600 dark:focus:ring-blue-400 dark:focus:bg-gray-700 dark:text-white\"\n                />\n              </div>\n\n              <div>\n                <label htmlFor=\"end_time\" className=\"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2\">\n                  Waktu Berakhir (opsional)\n                </label>\n                <input\n                  type=\"datetime-local\"\n                  id=\"end_time\"\n                  name=\"end_time\"\n                  value={formData.end_time || ''}\n                  onChange={handleChange}\n                  className=\"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition bg-gray-50 focus:bg-white dark:bg-gray-700/50 dark:border-gray-600 dark:focus:ring-blue-400 dark:focus:bg-gray-700 dark:text-white\"\n                />\n              </div>\n            </div>\n\n            <div className=\"flex justify-end gap-3 pt-4\">\n              <button\n                type=\"button\"\n                onClick={() => router.back()}\n                className=\"px-6 py-3 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors\"\n              >\n                Batal\n              </button>\n              <button\n                type=\"submit\"\n                disabled={submitting}\n                className={`px-6 py-3 rounded-lg text-white font-semibold transition-colors ${\n                  submitting \n                    ? 'bg-blue-400 cursor-not-allowed' \n                    : 'bg-blue-600 hover:bg-blue-700'\n                }`}\n              >\n                {submitting ? 'Mengupdate...' : 'Update Tryout'}\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAee,SAAS;IACtB,MAAM,SAAS,IAAA,gTAAS;IACxB,MAAM,SAAS,IAAA,gTAAS;IACxB,MAAM,WAAW,OAAO,EAAE;IAE1B,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,kXAAQ,EAAa;QACnD,IAAI;QACJ,OAAO;QACP,iBAAiB;QACjB,kBAAkB;QAClB,YAAY;QACZ,UAAU;IACZ;IACA,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,kXAAQ,EAAC;IACvC,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,kXAAQ,EAAC;IAC7C,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,kXAAQ,EAAgB;IAElD,IAAA,mXAAS,EAAC;QACR;IACF,GAAG;QAAC;KAAS;IAEb,MAAM,cAAc;QAClB,WAAW;QACX,SAAS;QAET,gBAAgB;QAChB,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,EAAE,GAAG,MAAM,2HAAQ,CAAC,IAAI,CAAC,UAAU;QAC5D,IAAI,CAAC,SAAS;YACZ,SAAS;YACT,WAAW;YACX;QACF;QAEA,0CAA0C;QAC1C,MAAM,EAAE,MAAM,WAAW,EAAE,OAAO,YAAY,EAAE,GAAG,MAAM,2HAAQ,CAC9D,IAAI,CAAC,YACL,MAAM,CAAC,QACP,EAAE,CAAC,MAAM,QAAQ,IAAI,CAAC,EAAE,EACxB,MAAM;QAET,IAAI,gBAAgB,CAAC,eAAe,CAAC;YAAC;YAAS;SAAU,CAAC,QAAQ,CAAC,YAAY,IAAI,GAAG;YACpF,SAAS;YACT,WAAW;YACX;QACF;QAEA,IAAI;YACF,eAAe;YACf,MAAM,EAAE,MAAM,UAAU,EAAE,OAAO,WAAW,EAAE,GAAG,MAAM,2HAAQ,CAC5D,IAAI,CAAC,WACL,MAAM,CAAC,sEACP,EAAE,CAAC,MAAM,UACT,MAAM;YAET,IAAI,aAAa,MAAM;YAEvB,YAAY;QACd,EAAE,OAAO,KAAU;YACjB,QAAQ,KAAK,CAAC,0BAA0B;YACxC,SAAS,IAAI,OAAO,IAAI;QAC1B,SAAU;YACR,WAAW;QACb;IACF;IAEA,MAAM,eAAe,CAAC;QACpB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,EAAE,MAAM;QAChC,YAAY,CAAA,OAAQ,CAAC;gBACnB,GAAG,IAAI;gBACP,CAAC,KAAK,EAAE,UAAU,KAAK,OAAO;YAChC,CAAC;IACH;IAEA,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,cAAc;QACd,SAAS;QAET,gBAAgB;QAChB,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,EAAE,GAAG,MAAM,2HAAQ,CAAC,IAAI,CAAC,UAAU;QAC5D,IAAI,CAAC,SAAS;YACZ,SAAS;YACT,cAAc;YACd;QACF;QAEA,0CAA0C;QAC1C,MAAM,EAAE,MAAM,WAAW,EAAE,OAAO,YAAY,EAAE,GAAG,MAAM,2HAAQ,CAC9D,IAAI,CAAC,YACL,MAAM,CAAC,QACP,EAAE,CAAC,MAAM,QAAQ,IAAI,CAAC,EAAE,EACxB,MAAM;QAET,IAAI,gBAAgB,CAAC,eAAe,CAAC;YAAC;YAAS;SAAU,CAAC,QAAQ,CAAC,YAAY,IAAI,GAAG;YACpF,SAAS;YACT,cAAc;YACd;QACF;QAEA,IAAI;YACF,gBAAgB;YAChB,MAAM,EAAE,OAAO,WAAW,EAAE,GAAG,MAAM,2HAAQ,CAC1C,IAAI,CAAC,WACL,MAAM,CAAC;gBACN,OAAO,SAAS,KAAK;gBACrB,iBAAiB,SAAS,eAAe;gBACzC,kBAAkB,SAAS,gBAAgB;gBAC3C,YAAY,SAAS,UAAU;gBAC/B,UAAU,SAAS,QAAQ;YAC7B,GACC,EAAE,CAAC,MAAM;YAEZ,IAAI,aAAa,MAAM;YAEvB,6BAA6B;YAC7B,OAAO,IAAI,CAAC,CAAC,QAAQ,EAAE,SAAS,UAAU,CAAC;QAC7C,EAAE,OAAO,KAAU;YACjB,QAAQ,KAAK,CAAC,0BAA0B;YACxC,SAAS,IAAI,OAAO,IAAI;QAC1B,SAAU;YACR,cAAc;QAChB;IACF;IAEA,IAAI,SAAS;QACX,qBACE,+YAAC;YAAI,WAAU;sBACb,cAAA,+YAAC;gBAAI,WAAU;;kCACb,+YAAC;wBAAI,WAAU;;;;;;kCACf,+YAAC;wBAAE,WAAU;kCAAmC;;;;;;;;;;;;;;;;;IAIxD;IAEA,qBACE,+YAAC;QAAI,WAAU;kBACb,cAAA,+YAAC;YAAI,WAAU;sBACb,cAAA,+YAAC;gBAAI,WAAU;;kCACb,+YAAC;wBAAI,WAAU;;0CACb,+YAAC;gCAAG,WAAU;0CAAmD;;;;;;0CAGjE,+YAAC;gCACC,SAAS,IAAM,OAAO,IAAI;gCAC1B,WAAU;0CACX;;;;;;;;;;;;oBAKF,uBACC,+YAAC;wBAAI,WAAU;kCACZ;;;;;;kCAIL,+YAAC;wBAAK,UAAU;wBAAc,WAAU;;0CACtC,+YAAC;;kDACC,+YAAC;wCAAM,SAAQ;wCAAQ,WAAU;kDAAoE;;;;;;kDAGrG,+YAAC;wCACC,MAAK;wCACL,IAAG;wCACH,MAAK;wCACL,OAAO,SAAS,KAAK;wCACrB,UAAU;wCACV,QAAQ;wCACR,WAAU;wCACV,aAAY;;;;;;;;;;;;0CAIhB,+YAAC;gCAAI,WAAU;;kDACb,+YAAC;;0DACC,+YAAC;gDAAM,SAAQ;gDAAkB,WAAU;0DAAoE;;;;;;0DAG/G,+YAAC;gDACC,MAAK;gDACL,IAAG;gDACH,MAAK;gDACL,OAAO,SAAS,eAAe;gDAC/B,UAAU;gDACV,KAAI;gDACJ,QAAQ;gDACR,WAAU;;;;;;;;;;;;kDAId,+YAAC;;0DACC,+YAAC;gDAAM,SAAQ;gDAAmB,WAAU;0DAAoE;;;;;;0DAGhH,+YAAC;gDACC,MAAK;gDACL,IAAG;gDACH,MAAK;gDACL,OAAO,SAAS,gBAAgB;gDAChC,UAAU;gDACV,KAAI;gDACJ,QAAQ;gDACR,WAAU;;;;;;;;;;;;;;;;;;0CAKhB,+YAAC;gCAAI,WAAU;;kDACb,+YAAC;;0DACC,+YAAC;gDAAM,SAAQ;gDAAa,WAAU;0DAAoE;;;;;;0DAG1G,+YAAC;gDACC,MAAK;gDACL,IAAG;gDACH,MAAK;gDACL,OAAO,SAAS,UAAU,IAAI;gDAC9B,UAAU;gDACV,WAAU;;;;;;;;;;;;kDAId,+YAAC;;0DACC,+YAAC;gDAAM,SAAQ;gDAAW,WAAU;0DAAoE;;;;;;0DAGxG,+YAAC;gDACC,MAAK;gDACL,IAAG;gDACH,MAAK;gDACL,OAAO,SAAS,QAAQ,IAAI;gDAC5B,UAAU;gDACV,WAAU;;;;;;;;;;;;;;;;;;0CAKhB,+YAAC;gCAAI,WAAU;;kDACb,+YAAC;wCACC,MAAK;wCACL,SAAS,IAAM,OAAO,IAAI;wCAC1B,WAAU;kDACX;;;;;;kDAGD,+YAAC;wCACC,MAAK;wCACL,UAAU;wCACV,WAAW,CAAC,gEAAgE,EAC1E,aACI,mCACA,iCACJ;kDAED,aAAa,kBAAkB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQhD","debugId":null}}]
}