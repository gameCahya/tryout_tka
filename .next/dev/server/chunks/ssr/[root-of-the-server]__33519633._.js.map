{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///home/bangcs/Documents/tryout_tka/lib/supabase.ts"],"sourcesContent":["import { createClient } from '@supabase/supabase-js';\n\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!;\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!;\n\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey);"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM;AACN,MAAM;AAEC,MAAM,WAAW,IAAA,iRAAY,EAAC,aAAa","debugId":null}},
    {"offset": {"line": 71, "column": 0}, "map": {"version":3,"sources":["file:///home/bangcs/Documents/tryout_tka/app/tryout/%5Bid%5D/questions/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { useRouter, useParams } from 'next/navigation';\nimport { supabase } from '@/lib/supabase';\nimport { SimpleQuestionForm } from '@/components/admin/SimpleQuestionForm';\nimport { SimpleQuestionList } from '@/components/admin/SimpleQuestionList';\n\ntype Tryout = {\n  id: string;\n  title: string;\n  total_questions: number;\n};\n\ntype Question = {\n  id: string;\n  tryout_id: string;\n  question_text: string;\n  option_a: string;\n  option_b: string;\n  option_c: string;\n  option_d: string;\n  option_e: string;\n  correct_answer: string;\n  explanation: string | null;\n};\n\nexport default function TryoutQuestionsPage() {\n  const router = useRouter();\n  const params = useParams();\n  const tryoutId = params.id as string;\n  \n  const [tryout, setTryout] = useState<Tryout | null>(null);\n  const [questions, setQuestions] = useState<Question[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [showForm, setShowForm] = useState(false);\n  const [editingQuestion, setEditingQuestion] = useState<Question | null>(null);\n\n  useEffect(() => {\n    fetchTryoutAndQuestions();\n  }, [tryoutId]);\n\n  const fetchTryoutAndQuestions = async () => {\n    setLoading(true);\n    setError(null);\n\n    // Check session\n    const { data: { session } } = await supabase.auth.getSession();\n    if (!session) {\n      setError('Sesi tidak ditemukan, silakan login kembali');\n      setLoading(false);\n      return;\n    }\n\n    // Check if user has teacher or admin role\n    const { data: profileData, error: profileError } = await supabase\n      .from('profiles')\n      .select('role')\n      .eq('id', session.user.id)\n      .single();\n\n    if (profileError || !profileData || !['admin', 'teacher'].includes(profileData.role)) {\n      setError('Anda tidak memiliki akses untuk mengelola soal');\n      setLoading(false);\n      return;\n    }\n\n    try {\n      // Fetch tryout\n      const { data: tryoutData, error: tryoutError } = await supabase\n        .from('tryouts')\n        .select('id, title, total_questions')\n        .eq('id', tryoutId)\n        .single();\n\n      if (tryoutError) throw tryoutError;\n\n      // Fetch questions\n      const { data: questionsData, error: questionsError } = await supabase\n        .from('questions')\n        .select('*')\n        .eq('tryout_id', tryoutId)\n\n      if (questionsError) throw questionsError;\n\n      setTryout(tryoutData);\n      setQuestions(questionsData || []);\n    } catch (err: any) {\n      console.error('Error fetching tryout and questions:', err);\n      setError(err.message || 'Gagal memuat data tryout dan soal');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleAddQuestion = () => {\n    setEditingQuestion(null);\n    setShowForm(true);\n  };\n\n  const handleEditQuestion = (question: Question) => {\n    setEditingQuestion(question);\n    setShowForm(true);\n  };\n\n  const handleDeleteQuestion = async (questionId: string) => {\n    if (!confirm('Apakah Anda yakin ingin menghapus soal ini?')) return;\n\n    try {\n      const { error } = await supabase\n        .from('questions')\n        .delete()\n        .eq('id', questionId);\n\n      if (error) throw error;\n\n      // Refresh questions\n      fetchTryoutAndQuestions();\n    } catch (err: any) {\n      console.error('Error deleting question:', err);\n      setError(err.message || 'Gagal menghapus soal');\n    }\n  };\n\n  const handleSaveQuestion = async (questionData: Omit<Question, 'id'> | Partial<Question>) => {\n    try {\n      if (editingQuestion) {\n        // Update existing question\n        const { error } = await supabase\n          .from('questions')\n          .update(questionData)\n          .eq('id', editingQuestion.id);\n\n        if (error) throw error;\n      } else {\n        // Insert new question\n        const { error } = await supabase\n          .from('questions')\n          .insert([{ ...questionData, tryout_id: tryoutId }]);\n\n        if (error) throw error;\n      }\n\n      // Refresh questions\n      fetchTryoutAndQuestions();\n      setShowForm(false);\n    } catch (err: any) {\n      console.error('Error saving question:', err);\n      setError(err.message || 'Gagal menyimpan soal');\n    }\n  };\n\n  const handleCancelForm = () => {\n    setShowForm(false);\n    setEditingQuestion(null);\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 dark:border-blue-400 mx-auto mb-4\"></div>\n          <p className=\"text-gray-600 dark:text-gray-400\">Memuat...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900 p-4\">\n        <div className=\"max-w-4xl mx-auto\">\n          <div className=\"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700\">\n            <div className=\"flex items-center justify-between mb-6\">\n              <h1 className=\"text-2xl font-bold text-gray-900 dark:text-white\">\n                {tryout?.title || 'Soal Tryout'}\n              </h1>\n              <button\n                onClick={() => router.back()}\n                className=\"px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors\"\n              >\n                Kembali\n              </button>\n            </div>\n\n            <div className=\"p-4 bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-700 text-red-700 dark:text-red-300 rounded-xl\">\n              {error}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900 p-4\">\n      <div className=\"max-w-4xl mx-auto\">\n        <div className=\"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700\">\n          <div className=\"flex items-center justify-between mb-6\">\n            <div>\n              <h1 className=\"text-2xl font-bold text-gray-900 dark:text-white\">\n                {tryout?.title}\n              </h1>\n              <p className=\"text-gray-600 dark:text-gray-400\">\n                {questions.length} soal | {tryout?.total_questions} total soal\n              </p>\n            </div>\n            <button\n              onClick={() => router.back()}\n              className=\"px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors\"\n            >\n              Kembali\n            </button>\n          </div>\n\n          {error && (\n            <div className=\"mb-6 p-4 bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-700 text-red-700 dark:text-red-300 rounded-xl\">\n              {error}\n            </div>\n          )}\n\n          <div className=\"flex justify-between items-center mb-6\">\n            <h2 className=\"text-xl font-semibold text-gray-900 dark:text-white\">\n              Daftar Soal\n            </h2>\n            <button\n              onClick={handleAddQuestion}\n              className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2\"\n            >\n              <span>+</span>\n              <span>Tambah Soal</span>\n            </button>\n          </div>\n\n         \n        </div>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}}]
}